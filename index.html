<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Alpina OS v11.2 | Final Adjusted</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Fira Code se mantiene para detalles técnicos monoespaciados -->
  <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

  <style>
    /* ===== Carga de Tipografías Alpina Sans ===== */
    @font-face { font-family: 'Alpina Sans'; src: url('AlpinaSans-Light_2020-03-23.otf'); font-weight: 300; font-style: normal; }
    @font-face { font-family: 'Alpina Sans'; src: url('AlpinaSans-LightItalic_2020-03-23.otf'); font-weight: 300; font-style: italic; }
    @font-face { font-family: 'Alpina Sans'; src: url('AlpinaSans-Regular_2020-03-23.otf'); font-weight: 400; font-style: normal; }
    @font-face { font-family: 'Alpina Sans'; src: url('AlpinaSans-Italic_2020-03-23.otf'); font-weight: 400; font-style: italic; }
    @font-face { font-family: 'Alpina Sans'; src: url('AlpinaSans-Semibold_2020-03-23.otf'); font-weight: 600; font-style: normal; }
    @font-face { font-family: 'Alpina Sans'; src: url('AlpinaSans-SemiboldItalic_2020-03-23.otf'); font-weight: 600; font-style: italic; }
    @font-face { font-family: 'Alpina Sans'; src: url('AlpinaSans-Bold_2020-03-23.otf'); font-weight: 700; font-style: normal; }
    @font-face { font-family: 'Alpina Sans'; src: url('AlpinaSans-BoldItalic_2020-03-23.otf'); font-weight: 700; font-style: italic; }
    @font-face { font-family: 'Alpina Sans'; src: url('AlpinaSans-Black_2020-03-23.otf'); font-weight: 900; font-style: normal; }
    @font-face { font-family: 'Alpina Sans'; src: url('AlpinaSans-BlackItalic_2020-03-23.otf'); font-weight: 900; font-style: italic; }

    :root{
      --bg:#070A12;
      --fg:#EAF2FF;
      --muted:rgba(234,242,255,.72);
      --glass:rgba(0,0,0,.65);
      --stroke:rgba(255,255,255,.12);
      --accent:#00F5FF;      /* Cyan/Azul */
      --accent2:#6A00FF;     /* Morado */
      --alpina:#9CC11F;      /* Verde */
      --violet:#7C3AED;
      --danger:#FF4B4B;
      
      /* Colores extraidos de las imagenes para la casa */
      --electric-blue: #4d4dff; /* Azul Eléctrico Vibrante */
      --mint-green: #99ffcc;    /* Verde Menta Claro */

      /* Nueva variable de fuente */
      --font-alpina: 'Alpina Sans', sans-serif;
    }

    html,body{height:100%;margin:0;overflow:hidden;background:var(--bg);color:var(--fg);}
    body{
      /* FONDO COMPUESTO */
      background:
        radial-gradient(900px 500px at 20% 10%, rgba(0,245,255,.12), transparent 55%),
        radial-gradient(700px 400px at 60% 90%, rgba(156,193,31,.10), transparent 60%),
        radial-gradient(900px 500px at 90% 10%, rgba(106,0,255,.10), transparent 55%),
        linear-gradient(to bottom, rgba(7,10,18, 0.85), rgba(7,10,18, 0.6)), 
        url('montana.png') no-repeat center bottom / cover, 
        var(--bg);
      
      font-family: var(--font-alpina);
    }

    /* Sobrescribir clases de utilidades para asegurar Alpina */
    .font-space { font-family: var(--font-alpina) !important; letter-spacing: -0.02em; }
    .font-sans { font-family: var(--font-alpina) !important; }

    /* ===== Header Fijo ===== */
    .header{
      position:fixed;top:18px;left:18px;right:18px;z-index:9999;
      display:flex;align-items:center;gap:18px;
      pointer-events:none;
    }

    .logo-container{
      display:flex;align-items:center;gap:10px;
      background:transparent;
      padding:0;
      border-radius:0;
      border:none;
      box-shadow:none;
      pointer-events:auto;
      backdrop-filter: none;
    }
    
    .logo{
      height:44px; width:auto;
      filter: drop-shadow(0 12px 26px rgba(0,0,0,.55));
    }

    /* ===== UI Components ===== */
    .glass-panel{
      background:var(--glass);
      backdrop-filter: blur(40px);
      border:1px solid var(--stroke);
      border-radius:32px;
    }

    .module-content{
      display:none;
      min-height:100%;
      flex-direction:column;
      animation: slideUp .5s cubic-bezier(.2,.8,.2,1) forwards;
    }
    .module-content.active{display:flex;}
    @keyframes slideUp{
      from{opacity:0;transform:translateY(20px);}
      to{opacity:1;transform:translateY(0);}
    }

    .nav-btn{
      transition: all .25s ease;
      border-left: 3px solid transparent;
      cursor:pointer;
      font-family: var(--font-alpina);
    }
    .nav-btn:hover{background: rgba(255,255,255,.05);}
    .nav-btn.active{
      border-left:3px solid var(--alpina);
      background: linear-gradient(90deg, rgba(156,193,31,.15), transparent);
      color: var(--alpina);
    }
    .nav-btn.active i{color:var(--alpina);opacity:1;}
    .nav-btn.active span{font-weight:700;color:white;}

    .custom-scroll::-webkit-scrollbar{width:6px;}
    .custom-scroll::-webkit-scrollbar-track{background:rgba(255,255,255,.02);border-radius:10px;}
    .custom-scroll::-webkit-scrollbar-thumb{background:linear-gradient(var(--accent),var(--accent2));border-radius:10px;}

    .scanline{
      width:100%;height:2px;background:rgba(0,245,255,.05);
      position:absolute;top:0;left:0;z-index:100;
      pointer-events:none;animation: scan 4s linear infinite;
    }
    @keyframes scan{0%{top:0;}100%{top:100%;}}

    .highlight-text{color:var(--accent);font-weight:600;}
    .manifesto-title{
      background: linear-gradient(90deg,#fff,var(--alpina));
      -webkit-background-clip:text;
      -webkit-text-fill-color:transparent;
      font-weight: 900; 
    }

    #module-indicator{pointer-events:auto;}

    /* ===== Data Cards ===== */
    .data-card {
      display: flex; flex-direction: column; justify-content: center;
      padding: 1.5rem;
      border-radius: 20px;
      background: rgba(255,255,255,0.03);
      border: 1px solid rgba(255,255,255,0.08);
      transition: 0.3s;
      height: 100%;
    }
    .data-card:hover {
      background: rgba(255,255,255,0.06);
      border-color: var(--accent);
    }
    .big-stat {
      font-family: var(--font-alpina);
      font-weight: 700;
      font-size: 2.5rem;
      line-height: 1;
      margin-bottom: 0.5rem;
    }

    /* ===== Para Que Cards ===== */
    .paraque-card {
      height: 100%;
      padding: 40px;
      border-radius: 24px;
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      border: 1px solid rgba(255,255,255,0.1);
      transition: 0.3s;
      background: rgba(0,0,0,0.4);
    }
    .paraque-card:hover { transform: translateY(-5px); box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
    .card-no {
      border-top: 4px solid var(--danger);
      background: linear-gradient(180deg, rgba(255, 75, 75, 0.05), rgba(0,0,0,0.6));
    }
    .card-si {
      border-top: 4px solid var(--alpina);
      background: linear-gradient(180deg, rgba(156, 193, 31, 0.05), rgba(0,0,0,0.6));
    }

    /* ===== Estilos Techo Estrategia ===== */
    .roof-container {
        position: relative;
        width: 100%;
        height: 120px;
        display: flex;
        align-items: flex-end;
        justify-content: center;
        margin-bottom: -2px;
    }
    
    .roof-svg-container {
        position: relative;
        width: 100%;
        height: 100px;
        display: flex;
        justify-content: center;
        align-items: flex-end;
    }
    
    .roof-title {
        position: absolute;
        bottom: 25px;
        font-family: var(--font-alpina);
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 2px;
        color: var(--accent);
        text-shadow: 0 0 20px rgba(0,245,255,0.5);
    }

    /* ===== STRATEGY HOUSE STYLES ===== */
    .house-block {
        border-radius: 20px;
        padding: 24px;
        border: 1px solid rgba(255,255,255,0.1);
        display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center;
        transition: 0.3s ease;
        position: relative; overflow: hidden;
        cursor: pointer;
    }
    .house-block:hover { transform: translateY(-4px); box-shadow: 0 10px 40px rgba(0,0,0,0.4); }
    
    /* BLOQUE 1: MORADO */
    .block-purple {
        background: linear-gradient(135deg, rgba(106, 0, 255, 0.2), rgba(106, 0, 255, 0.05));
        border: 1px solid rgba(106, 0, 255, 0.5);
    }
    .block-purple:hover { 
        border-color: #9D4EDD; 
        background: linear-gradient(135deg, rgba(106, 0, 255, 0.3), rgba(106, 0, 255, 0.1));
        box-shadow: 0 0 20px rgba(106, 0, 255, 0.3);
    }

    /* BLOQUE 2: CYAN/AZUL */
    .block-blue {
        background: linear-gradient(135deg, rgba(0, 245, 255, 0.2), rgba(0, 245, 255, 0.05));
        border: 1px solid rgba(0, 245, 255, 0.5);
    }
    .block-blue:hover { 
        border-color: #E0FFFF; 
        background: linear-gradient(135deg, rgba(0, 245, 255, 0.3), rgba(0, 245, 255, 0.1));
        box-shadow: 0 0 20px rgba(0, 245, 255, 0.3);
    }

    /* BLOQUE 3: AZUL ELÉCTRICO (VIVO - De imagen) */
    .block-electric {
        background: rgba(77, 77, 255, 0.2); /* Fondo tintado */
        border: 2px solid var(--electric-blue); /* Borde Sólido */
        color: white;
        box-shadow: 0 0 25px rgba(77, 77, 255, 0.2);
    }
    .block-electric:hover { 
        background: rgba(77, 77, 255, 0.3);
        box-shadow: 0 0 35px rgba(77, 77, 255, 0.4); 
    }

    /* BLOQUE 4: VERDE MENTA (VIVO - De imagen) */
    .block-mint {
        background: rgba(153, 255, 204, 0.15); /* Fondo tintado */
        border: 2px solid var(--mint-green); /* Borde Sólido */
        color: white;
        box-shadow: 0 0 25px rgba(153, 255, 204, 0.2);
    }
    .block-mint:hover { 
        background: rgba(153, 255, 204, 0.25);
        box-shadow: 0 0 35px rgba(153, 255, 204, 0.4); 
    }

    .house-foundation {
        border-radius: 16px;
        padding: 16px;
        display: flex; align-items: center; justify-content: center; gap: 40px;
        font-family: var(--font-alpina);
        text-transform: uppercase;
        letter-spacing: 2px;
        font-weight: 700;
        font-size: 14px;
        position: relative; /* Para posicionar el numero */
    }

    .house-number {
        position: absolute;
        top: 10px;
        left: 10px;
        width: 24px;
        height: 24px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 12px;
        font-weight: 900;
        background: rgba(0,0,0,0.4);
        border: 1px solid rgba(255,255,255,0.6);
        color: white;
        box-shadow: 0 2px 5px rgba(0,0,0,0.5);
    }

    /* ===== Static Radial (SQUIRCLE/ROUNDED RECT) ===== */
    .radial-system { 
        position: relative; 
        width: 100%; 
        max-width: 900px; /* Wider for rectangular shape */
        height: 480px; 
        margin: 0 auto; 
        display: flex; 
        align-items: center; 
        justify-content: center; 
    }
    .radial-center-text { z-index: 5; }

    .radial-node { 
        position: absolute; 
        width: 64px; 
        height: 64px; 
        border-radius: 50%; 
        background: rgba(15, 23, 42, 0.8); /* Dark default */
        border: 2px solid rgba(255,255,255,0.3); 
        display: flex; 
        align-items: center; 
        justify-content: center; 
        z-index: 20; 
        transition: 0.3s; 
        cursor: pointer; 
        box-shadow: 0 4px 15px rgba(0,0,0,0.5);
    }
    .radial-node:hover { transform: scale(1.15); box-shadow: 0 0 20px rgba(0,245,255,0.6); }
    .radial-node i { font-size: 22px; color: white; transition: 0.3s;}
    
    /* Conexiones en anillo (SVG Path for smooth curve) */
    .ring-path-container {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 1; /* Behind nodes (z-20) */
        pointer-events: none;
    }

    .radial-label { 
        position: absolute; 
        width: 140px; 
        text-align: center; 
        font-size: 11px; 
        font-weight: 700; 
        color: rgba(255,255,255,0.9); 
        text-transform: uppercase; 
        letter-spacing: 0.5px; 
        text-shadow: 0 2px 4px rgba(0,0,0,0.9); 
        pointer-events: none; 
    }
    
    .equation-container {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 30px;
        width: 100%;
        max-width: 900px;
        margin-top: 40px;
    }
    .eq-left {
        display: flex;
        flex-direction: column;
        align-items: flex-end;
        gap: 15px;
        text-align: right;
    }
    .eq-plus {
        font-size: 40px;
        color: var(--accent);
        font-weight: 300;
        opacity: 0.8;
    }
    .eq-card {
        background: rgba(255,255,255,0.05);
        border: 1px solid rgba(255,255,255,0.15);
        border-radius: 20px;
        padding: 30px 40px;
        text-align: center;
        backdrop-filter: blur(10px);
        box-shadow: 0 10px 30px rgba(0,0,0,0.2);
    }
    
    /* Satellites for Orbit System */
    .orbit-item {
        position: absolute;
        display: flex;
        align-items: center;
        gap: 15px; /* Separacion texto-burbuja */
        transition: all 0.3s ease;
        cursor: pointer;
        /* Default: Texto a la derecha */
        flex-direction: row; 
    }
    .orbit-item.left-side {
        /* Texto a la izquierda */
        flex-direction: row-reverse; 
        text-align: right;
    }
    .orbit-item:hover { transform: scale(1.05); }
    
    .orbit-bubble {
        width: 50px; height: 50px;
        border-radius: 50%;
        background: rgba(0,0,0,0.6);
        border: 1px solid rgba(255,255,255,0.2);
        display: flex; align-items: center; justify-content: center;
        box-shadow: 0 0 15px rgba(255,255,255,0.05);
        backdrop-filter: blur(5px);
        /* Importante para centrar en la linea */
        transform: translate(0, 0); 
    }
    .orbit-label {
        font-size: 13px; /* Aumentado ligeramente */
        font-weight: 700; text-transform: uppercase; letter-spacing: 1px;
        background: rgba(0,0,0,0.5); padding: 4px 8px; border-radius: 4px;
        white-space: nowrap;
        color: white;
    }

    @media (max-width: 1024px) {
        .radial-system { transform: scale(0.8); margin: -50px auto; }
        .equation-container { flex-direction: column; gap: 20px; text-align: center; }
        .eq-left { align-items: center; text-align: center; }
    }

    .pill-btn{ pointer-events:auto; display:inline-flex; align-items:center; gap:10px; padding:10px 14px; border-radius:999px; border:1px solid rgba(255,255,255,.10); background: rgba(0,0,0,.25); backdrop-filter: blur(16px); font-size:10px; letter-spacing:.22em; text-transform:uppercase; transition: transform .2s ease, background .2s ease; }
    .pill-btn:hover{ transform: translateY(-1px); background: rgba(255,255,255,.05); }

    .image-wrapper { border-radius: 20px; overflow: hidden; border: 1px solid rgba(255,255,255,0.1); display: flex; align-items: center; justify-content: center; background: black; }
    .image-wrapper img { width: 100%; height: 100%; object-fit: cover; opacity: 0.7; }
    .brand-chip{ display:inline-flex; align-items:center; gap:10px; padding:10px 14px; border-radius:999px; border:1px solid rgba(255,255,255,.10); background: rgba(0,0,0,.30); font-family: "Fira Code", monospace; font-size: 10px; letter-spacing: .25em; text-transform: uppercase; color: rgba(234,242,255,.75); }
    .brand-dot{ width:8px; height:8px; border-radius:999px; }
    .dot-c{ background: var(--accent); } .dot-g{ background: var(--alpina); } .dot-v{ background: var(--violet); }

    /* Modal Styles */
    .modal-backdrop {
        position: fixed; top: 0; left: 0; width: 100%; height: 100%;
        background: rgba(0,0,0,0.8); backdrop-filter: blur(10px);
        z-index: 10000;
        display: flex; align-items: center; justify-content: center;
        opacity: 0; pointer-events: none; transition: opacity 0.3s ease;
    }
    .modal-backdrop.open { opacity: 1; pointer-events: auto; }
    .modal-card {
        background: #111; border: 1px solid rgba(255,255,255,0.1);
        border-radius: 24px; padding: 20px; max-width: 90vw; max-height: 90vh;
        display: flex; flex-direction: column; gap: 20px;
    }
    .modal-top { display: flex; justify-content: space-between; align-items: center; }
    .modal-x { background: none; border: none; color: white; cursor: pointer; font-size: 20px; }
    .modal-body img { max-width: 100%; max-height: 70vh; border-radius: 12px; }

  </style>
</head>

<body>
  <div class="scanline"></div>

  <!-- HEADER -->
  <header class="header">
    <div class="logo-container">
      <img src="LOGO_375.png" alt="Alpina Logo" class="logo">
    </div>
    <div id="module-indicator" class="hidden lg:flex items-center gap-2 px-4 py-2 rounded-full border border-white/10 bg-black/30 backdrop-blur-xl">
      <span class="text-[8px] font-mono text-cyan-400 tracking-[0.25em]">MODULE</span>
      <span id="indicator-text" class="text-[10px] font-bold uppercase tracking-widest text-white/80 italic">01. Contexto Disruptivo</span>
    </div>
    <div class="hidden md:block ml-auto pr-4 text-right pointer-events-auto">
      <p class="text-[8px] font-mono text-cyan-400 opacity-60 tracking-widest uppercase">Orchestration OS v11.2</p>
      <p class="text-[7px] text-gray-500 font-mono">STATUS: STABLE</p>
    </div>
  </header>

  <div class="flex h-screen pt-24 pb-8 px-6 gap-6">

    <!-- SIDEBAR -->
    <aside class="w-80 flex flex-col gap-4 h-full z-10 hidden md:flex">
      <nav class="flex-grow flex flex-col gap-2 overflow-y-auto custom-scroll pr-2">
        <button onclick="showModule('contexto')" id="btn-contexto" class="nav-btn active glass-panel p-4 text-left flex items-center gap-4">
          <i class="fa-solid fa-earth-americas text-xs opacity-50 transition"></i><span class="text-[10px] font-bold uppercase tracking-widest transition">01. Contexto Disruptivo</span>
        </button>
        <button onclick="showModule('paraque')" id="btn-paraque" class="nav-btn glass-panel p-4 text-left flex items-center gap-4">
          <i class="fa-solid fa-circle-question text-xs opacity-50 transition"></i><span class="text-[10px] font-bold uppercase tracking-widest transition">02. ¿Para qué?</span>
        </button>
        <button onclick="showModule('estrategia')" id="btn-estrategia" class="nav-btn glass-panel p-4 text-left flex items-center gap-4">
          <i class="fa-solid fa-layer-group text-xs opacity-50 transition"></i><span class="text-[10px] font-bold uppercase tracking-widest transition">03. Estrategia (La Casa)</span>
        </button>
        <button onclick="showModule('compania')" id="btn-compania" class="nav-btn glass-panel p-4 text-left flex items-center gap-4">
          <i class="fa-solid fa-link text-xs opacity-50 transition"></i><span class="text-[10px] font-bold uppercase tracking-widest transition">04. Prod. Compañía</span>
        </button>
        <button onclick="showModule('individual')" id="btn-individual" class="nav-btn glass-panel p-4 text-left flex items-center gap-4">
          <i class="fa-solid fa-brain text-xs opacity-50 transition"></i><span class="text-[10px] font-bold uppercase tracking-widest transition">05. Prod. Individual</span>
        </button>
        <!-- Removed VP Rol Button -->
        <button onclick="showModule('resumen')" id="btn-resumen" class="nav-btn glass-panel p-4 text-left flex items-center gap-4">
          <i class="fa-solid fa-star text-xs opacity-50 transition"></i><span class="text-[10px] font-bold uppercase tracking-widest transition">06. Resumen</span>
        </button>
      </nav>
      <div class="glass-panel p-6 border-t-2 border-[#9CC11F]/40">
        <div class="flex items-center justify-between text-[9px] font-mono text-gray-500 mb-2"><span>PROGRESSION</span><span class="text-cyan-400 font-bold animate-pulse" id="progress-percent">14%</span></div>
        <div class="w-full bg-white/5 h-1 rounded-full overflow-hidden"><div id="progress-bar" class="bg-gradient-to-r from-cyan-400 to-[#9CC11F] h-full w-[14%] transition-all duration-700"></div></div>
      </div>
    </aside>

    <!-- MAIN VIEWPORT -->
    <main id="main-container" class="flex-grow glass-panel relative p-10 overflow-y-auto custom-scroll z-0">
      <div id="viewport" class="h-full">

        <!-- 01. CONTEXTO -->
        <div id="mod-contexto" class="module-content active justify-center">
          <div class="max-w-6xl w-full mx-auto space-y-8"> 
            <h1 class="text-5xl md:text-6xl font-bold font-space leading-tight manifesto-title uppercase text-center mb-4">EL MUNDO ESTÁ CAMBIANDO.</h1>
            
            <!-- 1. NIVEL SUPERIOR: INFRAESTRUCTURA (KPIs) -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-5">
              <!-- KPI 1: Satellites -->
              <div class="data-card border-l-4 border-cyan-400">
                <div class="flex justify-between items-start"><span class="big-stat text-cyan-400">9k</span><i class="fa-solid fa-satellite text-white/20 text-2xl"></i></div>
                <p class="text-xs uppercase tracking-widest font-bold text-white mb-1">Satélites</p><p class="text-xs text-gray-400 italic">La constelación de Elon Musk.</p>
              </div>
              
              <!-- KPI 2: Investment in AI (UPDATED) -->
              <div class="data-card border-l-4 border-[#9CC11F] bg-white/5">
                 <div class="flex justify-between items-start"><span class="big-stat text-[#cfe88a]">$124.3</span><i class="fa-solid fa-sack-dollar text-[#9CC11F] text-2xl"></i></div>
                <p class="text-xs uppercase tracking-widest font-bold text-white mb-1">Billones (USD)</p><p class="text-xs text-gray-400 italic">Inversión mundial total en IA durante 2024.</p>
              </div>

              <!-- KPI 3: Data Speed (Moved from bottom) -->
              <div class="data-card border-l-4 border-purple-500">
                <div class="flex justify-between items-start"><span class="big-stat text-purple-400">2 Días</span><i class="fa-solid fa-bolt text-white/20 text-2xl"></i></div>
                <p class="text-xs uppercase tracking-widest font-bold text-white mb-1">Velocidad de Datos</p><p class="text-xs text-gray-400 italic">Más data generada que en la historia hasta 2000.</p>
             </div>
            </div>

            <!-- SEPARADOR SUTIL -->
            <div class="w-full h-px bg-gradient-to-r from-transparent via-white/10 to-transparent my-4"></div>

            <!-- 2. NIVEL MEDIO: CONECTIVIDAD -->
            <div>
                <h3 class="text-sm font-bold uppercase tracking-[0.3em] text-cyan-400 mb-6 flex items-center gap-3"><span class="w-8 h-px bg-cyan-400"></span>Conectividad<span class="w-8 h-px bg-cyan-400"></span></h3>
                
                <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 items-start">
                    <!-- Imagen Indicadores -->
                    <div class="lg:col-span-7 relative group">
                        <div class="image-wrapper w-full border border-white/10">
                            <img src="indicadores.jpg" alt="Conectividad Global" class="w-full h-auto object-contain opacity-90 group-hover:opacity-100 transition duration-500">
                        </div>
                    </div>
                    
                    <!-- Stack de KPIs de Conectividad -->
                    <div class="lg:col-span-5 flex flex-col gap-4 h-full justify-center">
                        <div class="p-4 glass-panel bg-white/5 border-l-2 border-white flex items-center justify-between group hover:bg-white/10 transition">
                            <div><span class="text-2xl font-bold font-space text-white block">36.8M</span><span class="text-[10px] uppercase tracking-wider text-gray-400">Usuarios Online</span></div>
                            <i class="fa-solid fa-users text-white/20 text-xl group-hover:text-white/60 transition"></i>
                        </div>
                        <div class="p-4 glass-panel bg-white/5 border-l-2 border-[#9CC11F] flex items-center justify-between group hover:bg-white/10 transition">
                            <div><span class="text-2xl font-bold font-space text-[#cfe88a] block">3/4</span><span class="text-[10px] uppercase tracking-wider text-gray-400">Del Planeta Conectado</span></div>
                            <i class="fa-solid fa-earth-americas text-[#9CC11F]/20 text-xl group-hover:text-[#9CC11F] transition"></i>
                        </div>
                        <div class="p-4 glass-panel bg-white/5 border-l-2 border-purple-500 flex items-center justify-between group hover:bg-white/10 transition">
                            <div><span class="text-2xl font-bold font-space text-purple-400 block">92.5M</span><span class="text-[10px] uppercase tracking-wider text-gray-400">Líneas Celulares</span></div>
                            <i class="fa-solid fa-mobile-screen text-purple-500/20 text-xl group-hover:text-purple-500 transition"></i>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SEPARADOR CORTO -->
            <div class="flex justify-center py-4 opacity-30">
                <i class="fa-solid fa-chevron-down text-white text-xs animate-bounce"></i>
            </div>

            <!-- 3. NIVEL INFERIOR: RETOS COMO INDIVIDUO -->
            <div class="pb-8">
                <h3 class="text-sm font-bold uppercase tracking-[0.3em] text-[#9CC11F] mb-6 flex items-center gap-3"><span class="w-8 h-px bg-[#9CC11F]"></span>Retos como Individuo<span class="w-8 h-px bg-[#9CC11F]"></span></h3>

                <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 items-center">
                    <!-- Imagen Skills con Botón -->
                    <div class="lg:col-span-5 flex flex-col gap-3">
                        <div class="h-[280px] image-wrapper border border-white/20 shadow-[0_0_20px_rgba(156,193,31,0.1)] relative group cursor-pointer" onclick="openSkillsModal()">
                            <img src="skills2030.png" alt="Skills 2030" class="group-hover:scale-105 transition duration-700">
                            <div class="absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition duration-300">
                                <i class="fa-solid fa-magnifying-glass-plus text-3xl text-white"></i>
                            </div>
                        </div>
                        <button onclick="openSkillsModal()" class="w-full py-2 rounded-full border border-white/10 bg-white/5 hover:bg-white/10 text-[10px] uppercase tracking-widest text-cyan-400 transition flex items-center justify-center gap-2">
                            <i class="fa-solid fa-expand"></i> Abrir Gráfico
                        </button>
                    </div>

                    <!-- Stack de Indicadores de Impacto -->
                    <div class="lg:col-span-7 flex flex-col gap-4">
                        <div class="p-5 glass-panel bg-white/5 border-l-4 border-cyan-400 hover:bg-white/10 transition duration-300"><div class="flex items-center gap-5"><div class="p-3 bg-cyan-400/10 rounded-full"><i class="fa-solid fa-user-clock text-xl text-cyan-400"></i></div><div><h4 class="text-xl font-bold font-space text-white">1/3 Trabajadores</h4><p class="text-xs text-gray-300">Usa IA de forma regular >1h diaria.</p></div></div></div>
                        <div class="p-5 glass-panel bg-white/5 border-l-4 border-[#9CC11F] hover:bg-white/10 transition duration-300"><div class="flex items-center gap-5"><div class="p-3 bg-[#9CC11F]/10 rounded-full"><i class="fa-solid fa-arrow-trend-up text-xl text-[#9CC11F]"></i></div><div><h4 class="text-xl font-bold font-space text-white">+40% Productividad</h4><p class="text-xs text-gray-300">En tareas especializadas vs trabajadores sin IA.</p></div></div></div>
                        <div class="p-5 glass-panel bg-white/5 border-l-4 border-purple-500 cursor-pointer hover:bg-white/10 transition duration-300 group" onclick="openSkillsModal()"><div class="flex items-center gap-5"><div class="p-3 bg-purple-500/10 rounded-full"><i class="fa-solid fa-medal text-xl text-purple-400 group-hover:scale-110 transition"></i></div><div><h4 class="text-xl font-bold font-space text-white">#1 Top Skill 2030</h4><p class="text-xs text-gray-300">"IA & Big Data" según reporte WEF 2025.</p></div></div></div>
                    </div>
                </div>
            </div>

          </div>
        </div>

        <!-- 02. ¿PARA QUÉ? -->
        <div id="mod-paraque" class="module-content justify-center items-center">
            <h2 class="text-5xl md:text-6xl font-bold font-space mb-16 uppercase text-center">¿Para qué nos <span class="text-[#9CC11F]">Transformamos?</span></h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-12 max-w-5xl w-full">
                <div class="paraque-card card-no">
                    <div class="w-16 h-16 rounded-full bg-red-500/10 flex items-center justify-center mb-6"><i class="fa-solid fa-xmark text-4xl text-red-500"></i></div>
                    <h3 class="text-2xl font-bold uppercase mb-8 text-red-400 tracking-widest">NO ES</h3>
                    <div class="space-y-6 w-full px-6">
                        <div class="p-4 rounded-xl bg-red-500/10 border border-red-500/30 w-full text-center"><span class="text-lg font-bold text-white uppercase">Moda</span></div>
                        <div class="p-4 rounded-xl bg-red-500/10 border border-red-500/30 w-full text-center"><span class="text-lg font-bold text-white uppercase">Tendencia</span></div>
                    </div>
                </div>
                <div class="paraque-card card-si">
                    <div class="w-16 h-16 rounded-full bg-[#9CC11F]/10 flex items-center justify-center mb-6"><i class="fa-solid fa-check text-4xl text-[#9CC11F]"></i></div>
                    <h3 class="text-2xl font-bold uppercase mb-8 text-[#9CC11F] tracking-widest">SÍ ES</h3>
                    <div class="space-y-6 w-full px-6">
                        <div class="p-4 rounded-xl bg-[#9CC11F]/10 border border-[#9CC11F]/30 w-full text-center"><span class="text-lg font-bold text-white uppercase">Acelerar Decisiones</span></div>
                        <div class="p-4 rounded-xl bg-[#9CC11F]/10 border border-[#9CC11F]/30 w-full text-center"><span class="text-lg font-bold text-white uppercase">Productividad & Competitividad</span></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 03. ESTRATEGIA (LA CASA / TECHO) -->
        <div id="mod-estrategia" class="module-content justify-center items-center">
            <div class="max-w-4xl w-full flex flex-col items-center">
                <!-- Roof Container -->
                <div class="roof-svg-container w-full max-w-4xl mb-2">
                    <svg width="100%" height="100%" viewBox="0 0 800 100" preserveAspectRatio="none">
                        <line x1="0" y1="100" x2="400" y2="0" stroke="rgba(0, 245, 255, 0.4)" stroke-width="3" />
                        <line x1="800" y1="100" x2="400" y2="0" stroke="rgba(0, 245, 255, 0.4)" stroke-width="3" />
                    </svg>
                    <h2 class="roof-title">Estrategia de Transformación</h2>
                </div>

                <!-- 2 BLOQUES SUPERIORES -->
                <div class="grid grid-cols-2 gap-4 w-full h-48 mb-3">
                    <!-- 1. Prod Compañía (Left) - Block 1 -->
                    <div class="house-block block-purple" onclick="showModule('compania')">
                        <div class="house-number">1</div>
                        <div class="w-14 h-14 rounded-full bg-[#6A00FF]/10 flex items-center justify-center mb-4"><i class="fa-solid fa-link text-2xl text-[#6A00FF]"></i></div>
                        <h3 class="text-xl font-bold uppercase tracking-widest">Productividad Compañía</h3>
                        <p class="text-[11px] text-gray-400 mt-2">Cadena E2E integrada.</p>
                    </div>
                    <!-- 2. Prod Individual (Right) - Block 2 -->
                    <div class="house-block block-blue" onclick="showModule('individual')">
                        <div class="house-number">2</div>
                        <div class="w-14 h-14 rounded-full bg-cyan-400/10 flex items-center justify-center mb-4"><i class="fa-solid fa-user-check text-2xl text-cyan-400"></i></div>
                        <h3 class="text-xl font-bold uppercase tracking-widest">Productividad Individual</h3>
                        <p class="text-[11px] text-gray-400 mt-2">Alpinista del futuro.</p>
                    </div>
                </div>

                <!-- 3. CIMIENTO 1 (Electric Blue) - Block 3 -->
                <div class="house-foundation w-full mb-3 block-electric">
                    <div class="house-number">3</div>
                    <span class="flex items-center gap-2"><i class="fa-solid fa-diagram-project text-blue-300"></i> Procesos</span>
                    <span class="text-white/20">|</span>
                    <span class="flex items-center gap-2"><i class="fa-solid fa-microchip text-blue-300"></i> Tecnología</span>
                    <span class="text-white/20">|</span>
                    <span class="flex items-center gap-2"><i class="fa-solid fa-database text-cyan-300"></i> Datos</span>
                </div>

                <!-- 4. CIMIENTO 2 (Mint Green) - Block 4 -->
                <div class="house-foundation w-full block-mint">
                    <div class="house-number">4</div>
                    <span class="flex items-center gap-2"><i class="fa-solid fa-scale-balanced text-teal-200"></i> Gobierno</span>
                    <span class="text-white/20">|</span>
                    <span class="flex items-center gap-2"><i class="fa-solid fa-shield text-emerald-200"></i> Riesgos</span>
                    <span class="text-white/20">|</span>
                    <span class="flex items-center gap-2"><i class="fa-solid fa-users text-green-200"></i> Cultura</span>
                </div>
            </div>
        </div>

        <!-- 04. PRODUCTIVIDAD COMPAÑÍA (CIRCULAR RADIAL UPDATED) -->
        <div id="mod-compania" class="module-content justify-center items-center flex-col relative">
          
          <!-- MINI STRATEGY MAP (WIDGET - Left Block Active) -->
          <div class="absolute top-1 right-6 hidden lg:flex flex-col items-center gap-2 opacity-90 hover:opacity-100 transition-opacity duration-300" title="Ubicación en la Estrategia">
                <span class="text-[8px] font-mono text-gray-400 uppercase tracking-widest">Estás aquí</span>
                <div class="w-28 flex flex-col gap-1">
                     <!-- Roof (Gray) -->
                     <div class="w-full h-4 flex items-end justify-center mb-0.5">
                        <svg width="100%" height="100%" viewBox="0 0 100 25" preserveAspectRatio="none">
                           <path d="M0,25 L50,0 L100,25" fill="none" stroke="rgba(255,255,255,0.5)" stroke-width="2"/>
                        </svg>
                     </div>
                     
                     <!-- Top Blocks -->
                     <div class="grid grid-cols-2 gap-1 h-10">
                        <!-- Company (ACTIVE - Left - Purple) -->
                        <div class="bg-[#6A00FF]/20 border border-[#6A00FF] rounded-sm shadow-[0_0_15px_rgba(106,0,255,0.3)] relative overflow-hidden group">
                             <div class="absolute inset-0 bg-[#6A00FF]/10 animate-pulse"></div>
                             <div class="w-full h-full flex items-center justify-center"><i class="fa-solid fa-link text-[10px] text-[#6A00FF]"></i></div>
                        </div>
                        <!-- Individual (Inactive - Right) -->
                        <div class="bg-white/10 border border-white/20 rounded-sm"></div>
                     </div>
                     
                     <!-- Foundations (Inactive) -->
                     <div class="w-full h-3 bg-white/10 border border-white/20 rounded-sm"></div>
                     <div class="w-full h-3 bg-white/10 border border-white/20 rounded-sm"></div>
                </div>
          </div>

          <!-- Circular Chain Container -->
          <div class="radial-system mb-12 mt-12" id="radial-system">
            <!-- Center Text -->
            <div class="radial-center-text absolute inset-0 flex items-center justify-center pointer-events-none">
                <h3 class="text-2xl font-bold font-space uppercase text-center text-white/90 tracking-widest drop-shadow-[0_0_15px_rgba(0,0,0,1)]">
                    Cadena de<br><span class="text-[#9CC11F]">Valor Alpina</span>
                </h3>
            </div>
            
            <!-- SVG Container for continuous line -->
            <div id="ring-path-container" class="ring-path-container"></div>
          </div>
          
          <!-- New Section: Projects + Initiatives + Tech/Data -->
          <div class="equation-container w-full max-w-6xl grid grid-cols-1 md:grid-cols-[1fr_auto_1fr] gap-8 items-center px-4">
              <!-- Left Side -->
              <div class="eq-left flex flex-col gap-4 text-right md:items-end items-center">
                  <div class="group cursor-default">
                      <span class="text-sm font-mono text-cyan-400 mb-1 block">ELEMENTO 01</span>
                      <h3 class="text-3xl md:text-4xl font-bold text-white uppercase tracking-widest font-space group-hover:text-cyan-300 transition-colors">Proyectos<br>Transformación</h3>
                  </div>
                  <div class="h-px w-32 bg-white/20 my-2"></div>
                  <div class="group cursor-default">
                      <span class="text-sm font-mono text-[#9CC11F] mb-1 block">ELEMENTO 02</span>
                      <h3 class="text-3xl md:text-4xl font-bold text-white uppercase tracking-widest font-space group-hover:text-[#cfe88a] transition-colors">Iniciativas</h3>
                  </div>
              </div>

              <!-- Center Plus -->
              <div class="eq-plus flex justify-center">
                  <div class="w-16 h-16 rounded-full border border-white/20 flex items-center justify-center bg-white/5 backdrop-blur-md">
                    <i class="fa-solid fa-plus text-3xl text-white/70"></i>
                  </div>
              </div>

              <!-- Right Card (Highlighted) -->
              <div class="eq-card relative group h-full">
                  <div class="absolute -inset-1 bg-gradient-to-r from-cyan-500 to-purple-600 rounded-2xl blur opacity-25 group-hover:opacity-50 transition duration-1000 group-hover:duration-200"></div>
                  <div class="relative h-full bg-black/60 border border-white/20 backdrop-blur-xl rounded-xl p-8 flex flex-col justify-center items-center text-center hover:border-cyan-400/50 transition-colors">
                      <div class="flex gap-3 mb-4 text-2xl">
                          <i class="fa-solid fa-diagram-project text-purple-400"></i>
                          <i class="fa-solid fa-microchip text-cyan-400"></i>
                          <i class="fa-solid fa-database text-blue-400"></i>
                      </div>
                      <h3 class="text-3xl md:text-4xl font-bold font-space uppercase text-transparent bg-clip-text bg-gradient-to-r from-white via-cyan-100 to-white leading-tight">
                          Procesos,<br>Tecnología<br>& Datos
                      </h3>
                      <p class="text-xs font-mono text-cyan-300/70 mt-4 uppercase tracking-widest">El Habilitador Central</p>
                  </div>
              </div>
          </div>

          <div class="absolute bottom-6 right-10"><button class="pill-btn" onclick="showModule('estrategia')"><i class="fa-solid fa-arrow-left-long text-white/70"></i><span>Volver</span></button></div>
        </div>

        <!-- 05. PRODUCTIVIDAD INDIVIDUAL (HERO UPDATED) -->
        <div id="mod-individual" class="module-content justify-center items-center text-center relative">
            
            <!-- MINI STRATEGY MAP (WIDGET) -->
            <div class="absolute top-4 right-6 hidden lg:flex flex-col items-center gap-2 opacity-90 hover:opacity-100 transition-opacity duration-300 z-50" title="Ubicación en la Estrategia">
                <span class="text-[8px] font-mono text-gray-400 uppercase tracking-widest">Estás aquí</span>
                <div class="w-28 flex flex-col gap-1">
                     <!-- Roof -->
                     <div class="w-full h-4 flex items-end justify-center mb-0.5">
                        <svg width="100%" height="100%" viewBox="0 0 100 25" preserveAspectRatio="none">
                           <path d="M0,25 L50,0 L100,25" fill="none" stroke="rgba(255,255,255,0.5)" stroke-width="2"/>
                        </svg>
                     </div>
                     <!-- Top Blocks -->
                     <div class="grid grid-cols-2 gap-1 h-10">
                        <div class="bg-white/10 border border-white/20 rounded-sm"></div>
                        <!-- Individual Active -->
                        <div class="bg-cyan-400/20 border border-cyan-400 rounded-sm shadow-[0_0_15px_rgba(0,245,255,0.2)] relative overflow-hidden group">
                             <div class="absolute inset-0 bg-cyan-400/10 animate-pulse"></div>
                             <div class="w-full h-full flex items-center justify-center"><i class="fa-solid fa-user-check text-[10px] text-cyan-400"></i></div>
                        </div>
                     </div>
                     <!-- Foundations -->
                     <div class="w-full h-3 bg-white/10 border border-white/20 rounded-sm"></div>
                     <div class="w-full h-3 bg-white/10 border border-white/20 rounded-sm"></div>
                </div>
            </div>

            <!-- HEADER LEFT-ALIGNED (Fixed) -->
            <div class="w-full max-w-6xl mx-auto px-10 relative z-20 flex justify-start items-start mt-8 mb-4">
                <div class="text-left pl-4">
                    <h1 class="text-5xl md:text-7xl font-bold font-space uppercase leading-none tracking-tighter text-white mb-2">
                        Alpinista<br><span class="text-cyan-400">del Futuro</span>
                    </h1>
                    <p class="text-lg text-white/60 uppercase tracking-[0.3em] font-light">Reinventar y Habilitar</p>
                </div>
            </div>

            <!-- ORBIT SYSTEM (Perfect Symmetry, Text Outwards) -->
            <div class="relative w-full flex justify-center items-center h-[400px]">
                
                <!-- Central Astronaut (Bigger) -->
                <div class="relative z-10 w-48 h-48 rounded-full border-2 border-white/20 bg-black/40 backdrop-blur-md flex items-center justify-center shadow-[0_0_60px_rgba(0,245,255,0.3)]">
                    <i class="fa-solid fa-user-astronaut text-8xl text-white"></i>
                </div>

                <!-- Orbit Path (Diameter 340px -> Radius 170px) -->
                <div class="absolute w-[340px] h-[340px] border border-white/5 rounded-full animate-spin-slow pointer-events-none"></div>

                <!-- Satellite Items -->
                <!-- Positioning logic for circle (Radius 170px) -->
                
                <!-- 1. Top Left -->
                <div class="orbit-item left-side" style="top: 25%; left: 21%; transform: translate(-50%, -50%);">
                    <span class="orbit-label">Competencias</span>
                    <div class="orbit-bubble border-cyan-400/50"><i class="fa-solid fa-brain text-cyan-400 text-lg"></i></div>
                </div>

                <!-- 2. Middle Left -->
                <div class="orbit-item left-side" style="top: 50%; left: 10%; transform: translate(-50%, -50%);">
                    <span class="orbit-label">Capacitaciones</span>
                    <div class="orbit-bubble border-blue-400/50"><i class="fa-solid fa-graduation-cap text-blue-400 text-lg"></i></div>
                </div>

                <!-- 3. Bottom Left -->
                <div class="orbit-item left-side" style="bottom: 25%; left: 21%; transform: translate(-50%, 50%);">
                    <span class="orbit-label">Rasgos del<br>Alpinista</span>
                    <div class="orbit-bubble border-yellow-400/50"><i class="fa-solid fa-fingerprint text-yellow-400 text-lg"></i></div>
                </div>


                <!-- RIGHT SIDE items (Text on Right) -->

                <!-- 4. Top Right -->
                <div class="orbit-item" style="top: 25%; right: 21%; transform: translate(50%, -50%);">
                    <div class="orbit-bubble border-purple-400/50"><i class="fa-solid fa-lightbulb text-purple-400 text-lg"></i></div>
                    <span class="orbit-label">Mindset</span>
                </div>

                <!-- 5. Middle Right -->
                <div class="orbit-item" style="top: 50%; right: 10%; transform: translate(50%, -50%);">
                    <div class="orbit-bubble border-[#9CC11F]/50"><i class="fa-solid fa-screwdriver-wrench text-[#9CC11F] text-lg"></i></div>
                    <span class="orbit-label">Herramientas</span>
                </div>

                <!-- 6. Bottom Right -->
                <div class="orbit-item" style="bottom: 25%; right: 21%; transform: translate(50%, 50%);">
                    <div class="orbit-bubble border-pink-400/50"><i class="fa-solid fa-user-plus text-pink-400 text-lg"></i></div>
                    <span class="orbit-label">Selección y<br>Desarrollo</span>
                </div>

            </div>
        </div>

        <!-- REMOVED MODULE 06. ROL VP & CIMIENTOS -->

        <!-- 06. RESUMEN (Updated to match Module 3 Style exactly) -->
        <div id="mod-resumen" class="module-content justify-center items-center">
             <!-- Same structure as Strategy House -->
             <div class="max-w-4xl w-full flex flex-col items-center">
                <!-- Roof Container -->
                <div class="roof-svg-container w-full max-w-4xl mb-2">
                    <svg width="100%" height="100%" viewBox="0 0 800 100" preserveAspectRatio="none">
                        <line x1="0" y1="100" x2="400" y2="0" stroke="rgba(0, 245, 255, 0.4)" stroke-width="3" />
                        <line x1="800" y1="100" x2="400" y2="0" stroke="rgba(0, 245, 255, 0.4)" stroke-width="3" />
                    </svg>
                    <h2 class="roof-title">Resumen Estrategia</h2>
                </div>

                <!-- 2 BLOQUES SUPERIORES -->
                <div class="grid grid-cols-2 gap-4 w-full h-48 mb-3">
                    <!-- 1. Prod Compañía (Left) - Block 1 -->
                    <div class="house-block block-purple" onclick="showModule('compania')">
                        <div class="house-number">1</div>
                        <div class="w-14 h-14 rounded-full bg-[#6A00FF]/10 flex items-center justify-center mb-4"><i class="fa-solid fa-link text-2xl text-[#6A00FF]"></i></div>
                        <h3 class="text-xl font-bold uppercase tracking-widest">Productividad Compañía</h3>
                        <p class="text-[11px] text-gray-400 mt-2">Cadena E2E integrada.</p>
                    </div>
                    <!-- 2. Prod Individual (Right) - Block 2 -->
                    <div class="house-block block-blue" onclick="showModule('individual')">
                        <div class="house-number">2</div>
                        <div class="w-14 h-14 rounded-full bg-cyan-400/10 flex items-center justify-center mb-4"><i class="fa-solid fa-user-check text-2xl text-cyan-400"></i></div>
                        <h3 class="text-xl font-bold uppercase tracking-widest">Productividad Individual</h3>
                        <p class="text-[11px] text-gray-400 mt-2">Alpinista del futuro.</p>
                    </div>
                </div>

                <!-- 3. CIMIENTO 1 (Electric Blue) -->
                <div class="house-foundation w-full mb-3 block-electric">
                    <div class="house-number">3</div>
                    <span class="flex items-center gap-2"><i class="fa-solid fa-diagram-project text-blue-300"></i> Procesos</span>
                    <span class="text-white/20">|</span>
                    <span class="flex items-center gap-2"><i class="fa-solid fa-microchip text-blue-300"></i> Tecnología</span>
                    <span class="text-white/20">|</span>
                    <span class="flex items-center gap-2"><i class="fa-solid fa-database text-cyan-300"></i> Datos</span>
                </div>

                <!-- 4. CIMIENTO 2 (Mint Green) -->
                <div class="house-foundation w-full block-mint">
                    <div class="house-number">4</div>
                    <span class="flex items-center gap-2"><i class="fa-solid fa-scale-balanced text-teal-200"></i> Gobierno</span>
                    <span class="text-white/20">|</span>
                    <span class="flex items-center gap-2"><i class="fa-solid fa-shield text-emerald-200"></i> Riesgos</span>
                    <span class="text-white/20">|</span>
                    <span class="flex items-center gap-2"><i class="fa-solid fa-users text-green-200"></i> Cultura</span>
                </div>
            </div>
             <div class="mt-8"><button class="pill-btn" onclick="showModule('estrategia')"><i class="fa-solid fa-arrow-left-long text-white/70"></i><span>Volver</span></button></div>
        </div>

      </div>
    </main>
  </div>

<script>
  const titles = {
    "contexto": "01. Contexto Disruptivo",
    "paraque": "02. ¿Para qué?",
    "estrategia": "03. Estrategia (La Casa)",
    "compania": "04. Prod. Compañía",
    "individual": "05. Prod. Individual",
    "resumen": "06. Resumen"
  };

  const progressPercent = {
    "contexto": 17, "paraque": 34, "estrategia": 50,
    "compania": 67, "individual": 83, "resumen": 100
  };

  const valueChainData = [
    { title: "Planeación", icon: "fa-chart-pie", color: "text-cyan-400", borderColor: "border-cyan-400", number: "1" },
    { title: "Abastecimiento", icon: "fa-truck-field", color: "text-purple-400", borderColor: "border-purple-400", number: "2" },
    { title: "Manufactura", icon: "fa-industry", color: "text-[#9CC11F]", borderColor: "border-[#9CC11F]", number: "3" },
    { title: "Op. Bajo Techo", icon: "fa-warehouse", color: "text-white", borderColor: "border-white", number: "4" },
    { title: "Distribución", icon: "fa-route", color: "text-cyan-400", borderColor: "border-cyan-400", number: "5" },
    { title: "Comercial", icon: "fa-shop", color: "text-purple-400", borderColor: "border-purple-400", number: "6" },
    { title: "Mercadeo", icon: "fa-bullhorn", color: "text-[#9CC11F]", borderColor: "border-[#9CC11F]", number: "7" },
    { title: "Innovación", icon: "fa-lightbulb", color: "text-white", borderColor: "border-white", number: "8" },
    { title: "Transformación", icon: "fa-rocket", color: "text-cyan-400", borderColor: "border-cyan-400", number: "9" },
    { title: "Finanzas", icon: "fa-chart-line", color: "text-purple-400", borderColor: "border-purple-400", number: "10" },
    { title: "Talento", icon: "fa-users", color: "text-[#9CC11F]", borderColor: "border-[#9CC11F]", number: "11" },
    { title: "Servicios Corp.", icon: "fa-headset", color: "text-white", borderColor: "border-white", number: "12" }
  ];

  function renderStaticChain() {
    const container = document.getElementById('radial-system');
    if(!container) return;
    const existing = container.querySelectorAll('.radial-node, .radial-label, .ring-connection, .ring-arrow, svg');
    existing.forEach(e => e.remove());

    const width = 800; // Match CSS max-width
    const height = 450; // Match CSS height
    const total = valueChainData.length;
    
    // Function to get point on rounded rect path based on t (0 to 1)
    // Using simple traversal logic for "stadium" or "rounded rect" perimeter
    function getPointOnRect(t) {
        // Path logic: Top(R->L) -> LeftArc -> Bot(L->R) -> RightArc (Clockwise starting top center? No, usually start Top Right or Top Center)
        // Let's define perimeter.
        // Dimensions of the "pill" rect
        const rectW = 600;
        const rectH = 340;
        const r = 140; // Corner radius
        
        // Straight segment lengths
        const straightW = rectW - 2 * r; // Top/Bot straight part
        const straightH = rectH - 2 * r; // Left/Right straight part
        
        // Perimeter
        const perimeter = (2 * straightW) + (2 * straightH) + (2 * Math.PI * r);
        
        let d = t * perimeter;
        
        // Start top-center, go clockwise
        // Top Center is at x=0 (relative to center), y=-rectH/2
        // Seg 1: Top Right Straight (length straightW/2)
        // Seg 2: Top Right Corner (length PI*r/2)
        // Seg 3: Right Straight (length straightH)
        // Seg 4: Bot Right Corner (length PI*r/2)
        // Seg 5: Bot Straight (length straightW)
        // Seg 6: Bot Left Corner (length PI*r/2)
        // Seg 7: Left Straight (length straightH)
        // Seg 8: Top Left Corner (length PI*r/2)
        // Seg 9: Top Left Straight (length straightW/2)
        
        // Simplified mapping logic relative to center (0,0)
        let x = 0, y = 0;
        
        const halfSW = straightW / 2;
        const halfSH = straightH / 2;
        const arcLen = (Math.PI * r) / 2;
        
        if (d < halfSW) { // Top right straight
             x = d; y = -rectH/2;
        } else if (d < halfSW + arcLen) { // TR Corner
             const angle = ((d - halfSW) / arcLen) * (Math.PI/2) - (Math.PI/2); // -90 to 0
             x = halfSW + r * Math.cos(angle);
             y = -halfSH + r * Math.sin(angle); // y is up negative
        } else if (d < halfSW + arcLen + straightH) { // Right straight
             x = rectW/2;
             y = -halfSH + (d - (halfSW + arcLen));
        } else if (d < halfSW + arcLen + straightH + arcLen) { // BR Corner
             const angle = ((d - (halfSW + arcLen + straightH)) / arcLen) * (Math.PI/2); // 0 to 90
             x = halfSW + r * Math.cos(angle);
             y = halfSH + r * Math.sin(angle);
        } else if (d < halfSW + arcLen + straightH + arcLen + straightW) { // Bottom straight
             x = halfSW - (d - (halfSW + arcLen + straightH + arcLen));
             y = rectH/2;
        } else if (d < halfSW + arcLen + straightH + arcLen + straightW + arcLen) { // BL Corner
             const angle = ((d - (halfSW + arcLen + straightH + arcLen + straightW)) / arcLen) * (Math.PI/2) + (Math.PI/2); // 90 to 180
             x = -halfSW + r * Math.cos(angle);
             y = halfSH + r * Math.sin(angle);
        } else if (d < halfSW + arcLen + straightH + arcLen + straightW + arcLen + straightH) { // Left straight
             x = -rectW/2;
             y = halfSH - (d - (halfSW + arcLen + straightH + arcLen + straightW + arcLen));
        } else if (d < halfSW + arcLen + straightH + arcLen + straightW + arcLen + straightH + arcLen) { // TL Corner
             const angle = ((d - (halfSW + arcLen + straightH + arcLen + straightW + arcLen + straightH)) / arcLen) * (Math.PI/2) + Math.PI; // 180 to 270
             x = -halfSW + r * Math.cos(angle);
             y = -halfSH + r * Math.sin(angle);
        } else { // Top left straight (back to center)
             x = -halfSW + (d - (halfSW + arcLen + straightH + arcLen + straightW + arcLen + straightH + arcLen));
             y = -rectH/2;
        }
        
        // Translate to container center
        return { x: x + width/2, y: y + height/2 };
    }

    // 1. Create Continuous SVG Path
    const svgNS = "http://www.w3.org/2000/svg";
    const svg = document.createElementNS(svgNS, "svg");
    svg.setAttribute("width", "100%");
    svg.setAttribute("height", "100%");
    svg.style.position = "absolute";
    svg.style.top = "0";
    svg.style.left = "0";
    svg.style.zIndex = "1";
    svg.style.pointerEvents = "none";
    
    // Sample points for path
    let d = "";
    const samples = 200; // High resolution for smoothness
    for(let i=0; i<=samples; i++) {
        const t = i / samples;
        const p = getPointOnRect(t);
        if(i===0) d += `M ${p.x} ${p.y}`;
        else d += ` L ${p.x} ${p.y}`;
    }
    d += " Z"; // Close the path
    
    const path = document.createElementNS(svgNS, "path");
    path.setAttribute("d", d);
    path.setAttribute("fill", "none");
    path.setAttribute("stroke", "rgba(255,255,255,0.2)");
    path.setAttribute("stroke-width", "2");
    
    svg.appendChild(path);
    container.appendChild(svg);


    // 2. Create Nodes on top (No lines here)
    valueChainData.forEach((item, index) => {
      const t = index / total;
      const p = getPointOnRect(t);

      const node = document.createElement('div');
      node.className = 'radial-node';
      
      // Determine border color hex for background tint
      let borderColor = 'rgba(255,255,255,0.5)';
      let bgColor = 'rgba(30, 41, 59, 0.9)'; // Default dark
      
      if(item.color.includes('cyan')) {
         borderColor = 'var(--accent)';
         bgColor = 'rgba(0, 245, 255, 0.2)';
      } else if (item.color.includes('purple')) {
         borderColor = 'var(--accent2)';
         bgColor = 'rgba(106, 0, 255, 0.2)';
      } else if (item.color.includes('#9CC11F')) {
         borderColor = 'var(--alpina)';
         bgColor = 'rgba(156, 193, 31, 0.2)';
      }

      node.style.borderColor = borderColor;
      node.style.backgroundColor = bgColor;

      node.style.left = (p.x - 32) + "px"; 
      node.style.top = (p.y - 32) + "px";
      
      // Node content with NO NUMBER
      node.innerHTML = `
        <div class="relative w-full h-full flex items-center justify-center">
            <i class="fa-solid ${item.icon} ${item.color.replace('text-', '')}"></i>
        </div>
      `;
      container.appendChild(node);

      const label = document.createElement('div');
      label.className = 'radial-label';
      label.innerText = item.title;
      
      // Calculate label position radiating outward from center
      const centerX = width/2;
      const centerY = height/2;
      const dx = p.x - centerX;
      const dy = p.y - centerY;
      // Normalize and scale
      const dist = Math.sqrt(dx*dx + dy*dy);
      const labelDist = 60; 
      const lx = p.x + (dx/dist) * labelDist;
      const ly = p.y + (dy/dist) * labelDist;
      
      label.style.left = (lx - 70) + "px"; 
      label.style.top = (ly - 8) + "px";
      container.appendChild(label);
    });
  }

  function showModule(moduleId){
    document.querySelectorAll(".module-content").forEach(m => m.classList.remove("active"));
    const targetModule = document.getElementById(`mod-${moduleId}`);
    if (targetModule) targetModule.classList.add("active");

    document.querySelectorAll(".nav-btn").forEach(b => b.classList.remove("active"));
    const targetBtn = document.getElementById(`btn-${moduleId}`);
    if (targetBtn) targetBtn.classList.add("active");

    const indicatorText = document.getElementById("indicator-text");
    if (indicatorText && titles[moduleId]) indicatorText.innerText = titles[moduleId];

    const percent = progressPercent[moduleId] || 0;
    const bar = document.getElementById("progress-bar");
    const text = document.getElementById("progress-percent");
    if (bar) bar.style.width = `${percent}%`;
    if (text) text.innerText = `${percent}%`;

    const mainContainer = document.getElementById("main-container");
    if (mainContainer) mainContainer.scrollTo({ top: 0, behavior: "smooth" });
    
    // Re-render chain if showing compania to ensure dimensions are correct
    if(moduleId === 'compania') {
        setTimeout(renderStaticChain, 100);
    }
  }

  function openSkillsModal(){
    const modal = document.getElementById("skillsModal");
    modal.classList.add("open");
    modal.setAttribute("aria-hidden","false");
  }
  function closeSkillsModal(){
    const modal = document.getElementById("skillsModal");
    modal.classList.remove("open");
    modal.setAttribute("aria-hidden","true");
  }

  // cerrar modal al hacer click fuera
  document.addEventListener("click", (e) => {
    const modal = document.getElementById("skillsModal");
    if (!modal.classList.contains("open")) return;
    if (e.target === modal) closeSkillsModal();
  });

  // escape cierra modal
  document.addEventListener("keydown", (e) => {
    if (e.key === "Escape") closeSkillsModal();
  });
  
  // Handle resize for radial chart
  window.addEventListener('resize', () => {
      if(document.getElementById('mod-compania').classList.contains('active')) {
          renderStaticChain();
      }
  });

  document.addEventListener("DOMContentLoaded", () => {
    showModule("contexto");
    // Initial render might fail if container hidden, handled by showModule
    console.log("Alpina OS v11.2 Final Adjusted Loaded.");
  });
</script>
</body>
</html>